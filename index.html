<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <title>Responsive Google Map Dev</title>
    
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script src="https://unpkg.com/@googlemaps/markerclusterer/dist/index.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <style>
        /* Base Layout */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            font-family: sans-serif;
            display: flex;
            overflow: hidden; /* Important for Miro embeds */
        }

        /* Sidebar for Controls */
        #sidebar {
            width: 280px;
            height: 100%;
            background: #f8f9fa;
            border-right: 1px solid #ddd;
            display: flex;
            flex-direction: column;
            padding: 15px;
            box-sizing: border-box;
            overflow-y: auto; /* Scroll if content is taller than screen */
            z-index: 10;
        }

        /* Map Container */
        #map1 {
            flex-grow: 1; /* Takes up remaining width */
            height: 100%;
        }

        /* UI Elements Styling */
        h1 { font-size: 18px; margin: 5px 0; color: #333; }
        .section-label { font-weight: bold; margin-top: 15px; display: block; font-size: 14px; }
        
        button {
            width: 100%;
            margin: 4px 0;
            padding: 8px;
            cursor: pointer;
            border: 1px solid #ccc;
            border-radius: 4px;
            background: #fff;
            transition: background 0.2s;
        }
        button:hover { background: #eee; }
        
        .btn-highlight { background: #ecc6c6; font-weight: bold; }
        
        input, select {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 2px;
            margin-top: 5px;
        }
        
        label { font-size: 12px; display: flex; align-items: center; gap: 5px; }

        /* Floating Lat/Lng input for top of map */
        #top-search {
            position: absolute;
            top: 10px;
            left: 300px; /* Offset from sidebar */
            width: 250px;
            z-index: 5;
            opacity: 0.8;
        }

        /* Mobile / Small Frame Override */
        @media (max-width: 600px) {
            #sidebar { width: 150px; padding: 5px; }
            #sidebar h1 { font-size: 12px; }
            #top-search { left: 160px; width: 150px; }
            label { font-size: 10px; }
        }
    </style>
</head>

<body>

    <div id="sidebar">
        <h1 id="h1">Data1</h1>
        <h1 id="h2">Data2</h1>
        
        <button id="b5" class="btn-highlight">Batch Capture</button>
        <hr style="width:100%">

        <span class="section-label">Shape Controls</span>
        <button id="b3">Show Circle</button>
        <button id="b4">Show Region</button>
        
        <span class="section-label">Zoom & Grid</span>
        <input id="f1" type="number" min="13" max="17" value="13">
        <p id="p1" style="font-size: 13px;">Grid: 1x1</p>
        
        <div style="display: flex; gap: 5px;">
            <input id="f2" value="1 1" type="text" placeholder="Coords">
            <button id="b1" class="btn-highlight" style="width: 60px;">Run</button>
        </div>
        <p id="p2" style="font-size: 12px; color: #666;">Current: 1 1</p>

        <span class="section-label">Measurement</span>
        <button id="b6">Show Distance</button>
        <button id="b7">Delete Distance</button>

        <span class="section-label">Layer Visibility</span>
        <button id="btnWater1">Water</button>
        <button id="btnPOI1">POI Toggle</button>
        
        <div class="checkbox-group">
            <label style="color: #4d9900;"><input id="poi_cb1" type="checkbox" checked> attraction</label>
            <label style="color: #2d862d;"><input id="poi_cb2" type="checkbox" checked> park</label>
            <label style="color: #888;"><input id="poi_cb3" type="checkbox" checked> business</label>
            <label style="color: #ff6666;"><input id="poi_cb4" type="checkbox" checked> government</label>
            <label style="color: #ff66a3;"><input id="poi_cb5" type="checkbox" checked> medical</label>
            <label style="color: #e6ac00;"><input id="poi_cb6" type="checkbox" checked> worship</label>
            <label style="color: #b566ff;"><input id="poi_cb7" type="checkbox" checked> school</label>
        </div>

        <button id="btnBlocks1">Blocks</button>
        <button id="btnStreet1">Street</button>
        <button id="btnTransit1">Transit</button>
        <button id="btnLandscape1">Landscape</button>
        <button id="btnBuilding1">Building</button>

        <span class="section-label">Styler & City</span>
        <select id="stylers1">
            <option value="All">All Layers</option>
            <option value="Water">Water</option>
            <option value="PointOfInterest">POI</option>
        </select>

        <select id="cityList1">
            <option value="24.8953, 121.1372">桃園市</option>
            <option value="24.1764, 120.6265">台中市</option>
            <option value="32.0584, 118.7965">南京市</option>
        </select>
        
        <p id="test1" style="font-size: 12px; margin-top: 20px;">System Ready</p>
    </div>

    <input id="f3" class="form1" id="top-search" style="position: absolute; top: 10px; left: 300px; width: 200px; z-index: 5;" value="32.0584, 118.7965">

    <div id="map1"></div>

    <script defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY_HERE&language=zh-CN&libraries=geometry"></script>

    <script type="module" src="./index.js"></script>

</body>
</html>
